$ cat examples/simple-files.list
/etc/auto.*
/etc/modprobe.d/*
/etc/resolv.conf
/etc/yum.repos.d/fedora.repo
#/etc/aliases.db
/etc/system-release
/etc/httpd/conf.d
$ PYTHONPATH=.
$ python tools/pmaker -n sysdata -w /tmp/0 examples/simple-files.list
10:42:14 [WARNING] /etc/auto.iso is owned by miniascape
10:42:14 [WARNING] /etc/auto.master is owned by autofs
10:42:15 [WARNING] /etc/auto.misc is owned by autofs
10:42:15 [WARNING] /etc/auto.net is owned by autofs
10:42:15 [WARNING] /etc/auto.smb is owned by autofs
10:42:15 [WARNING] /etc/httpd/conf.d is owned by httpd
10:42:15 [WARNING] /etc/modprobe.d/blacklist-visor.conf is owned by pilot-link
10:42:15 [WARNING] /etc/modprobe.d/blacklist.conf is owned by hwdata
10:42:15 [WARNING] /etc/modprobe.d/dist-alsa.conf is owned by module-init-tools
10:42:15 [WARNING] /etc/modprobe.d/dist-oss.conf is owned by module-init-tools
10:42:16 [WARNING] /etc/modprobe.d/dist.conf is owned by module-init-tools
10:42:16 [WARNING] /etc/modprobe.d/libmlx4.conf is owned by libmlx4
10:42:16 [WARNING] /etc/modprobe.d/poulsbo.conf is owned by xorg-x11-drv-psb
10:42:16 [WARNING] /etc/system-release is owned by fedora-release
10:42:16 [WARNING] /etc/yum.repos.d/fedora.repo is owned by fedora-release
$ ls /tmp/0
sysdata-0.1
$ ls /tmp/0/sysdata-0.1/
MANIFEST
MANIFEST.overrides
Makefile
Makefile.am
Makefile.in
README
aclocal.m4
apply-overrides
autom4te.cache
config.log
config.status
configure
configure.ac
install-sh
missing
pmaker-build.stamp
pmaker-configure.stamp
pmaker-package-listfile.pkl
pmaker-preconfigure.stamp
pmaker-sbuild.stamp
pmaker-setup.stamp
pmaker.configure.log
revert-overrides
rpm
rpm.mk
src
sysdata-0.1-1.fc14.noarch.rpm
sysdata-0.1-1.fc14.src.rpm
sysdata-0.1.tar.xz
sysdata-overrides-0.1-1.fc14.noarch.rpm
sysdata.spec
$ rpm -qlp /tmp/0/sysdata-0.1/sysdata-0.1-1.fc14.noarch.rpm
/etc/resolv.conf
/usr/share/doc/sysdata-0.1
/usr/share/doc/sysdata-0.1/MANIFEST
/usr/share/doc/sysdata-0.1/README
$ rpm -qlp /tmp/0/sysdata-0.1/sysdata-overrides-0.1-1.fc14.noarch.rpm
/usr/libexec/sysdata-overrides/apply-overrides
/usr/libexec/sysdata-overrides/revert-overrides
/usr/share/doc/sysdata-overrides-0.1
/usr/share/doc/sysdata-overrides-0.1/MANIFEST.overrides
/var/lib/sysdata-overrides/new/etc/auto.iso
/var/lib/sysdata-overrides/new/etc/auto.master
/var/lib/sysdata-overrides/new/etc/auto.misc
/var/lib/sysdata-overrides/new/etc/auto.net
/var/lib/sysdata-overrides/new/etc/auto.smb
/var/lib/sysdata-overrides/new/etc/httpd/conf.d
/var/lib/sysdata-overrides/new/etc/modprobe.d/blacklist-visor.conf
/var/lib/sysdata-overrides/new/etc/modprobe.d/blacklist.conf
/var/lib/sysdata-overrides/new/etc/modprobe.d/dist-alsa.conf
/var/lib/sysdata-overrides/new/etc/modprobe.d/dist-oss.conf
/var/lib/sysdata-overrides/new/etc/modprobe.d/dist.conf
/var/lib/sysdata-overrides/new/etc/modprobe.d/libmlx4.conf
/var/lib/sysdata-overrides/new/etc/modprobe.d/poulsbo.conf
/var/lib/sysdata-overrides/new/etc/system-release
/var/lib/sysdata-overrides/new/etc/yum.repos.d/fedora.repo
/var/lib/sysdata-overrides/saved
$ rpm -qp --scripts /tmp/0/sysdata-0.1/sysdata-overrides-0.1-1.fc14.noarch.rpm
postinstall scriptlet (using /bin/sh):
if [ $1 = 1 -o $1 = 2 ]; then    # install or update
    /usr/libexec/sysdata-overrides/apply-overrides
fi
preuninstall scriptlet (using /bin/sh):
if [ $1 = 0 ]; then    # uninstall (! update)
    /usr/libexec/sysdata-overrides/revert-overrides
fi
